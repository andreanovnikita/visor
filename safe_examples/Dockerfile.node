FROM alpine:3.18
RUN apk add --no-cache nodejs npm
RUN addgroup -S app && adduser -S app -G app
WORKDIR /app
COPY package.json .
RUN npm ci --omit=dev || npm install --only=prod
COPY . .
USER app
EXPOSE 3000
CMD ["npm", "start"]
